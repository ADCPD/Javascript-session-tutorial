<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Accondion JS Tutorial</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous"/>

    <style>
        html {
            overflow-y: scroll;
        }

        body {
            background: #EFEFEF;
        }

        ul {
            margin-bottom: 0;
        }

        .accordion {
            background: #FFF;
            border-radius: 5px;
            padding: 30px;
        }

        body .jumbotron {
            padding: 30px;
        }

        .question {
            border-top:: 1px solid #EEE;
            padding: 20px;
            cursor: pointer;
            position: relative;
        }

        .question h2 {
            font-size: 20px;
            margin: 0px;
            color: #fd5c63;
        }

        .question .glyphicon {
            position: absolute;
            right: 20px;
            top: 0;
            height: 100%;
            display: flex;
            align-items: center; /*alignement contrer vertical par rapport a la div*/
            color: #ff4f81;
            transition: 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) all;

        }

        .answer {
            max-height: 0;
            transition: 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) all;
            overflow: hidden;
        }

        .answer p {
            padding: 20px;
        }

        .accordion li.open .question .glyphicon {
            transform: rotate(180deg);
        }

        .accordion li.open .answer {
            max-height: 150px;
        }
    </style>
</head>
<body class="container">
<div class="accordion">
    <ul class="list-unstyled">
        <li class="open">
            <div class="question">
                <h2>Est-ce-que je vais devenir riche ?</h2>
                <span class="glyphicon glyphicon-chevron-down "></span>
            </div>
            <div class="answer">
                <p>Biensure !, in saltem crimina accusatoris legum specie ut ulla tenus saevi:
                    quaerebatur acervis id urgebatur ulla licet implacabilitati his subditicii tenus aliquotiens
                    principes quaerebatur iusque fecere sedisset ulla committerentur.
                </p>
            </div>
        </li>
        <li>
            <div class="question">
                <h2>C'est quoi meilleur moyen pour dormier ?</h2>
                <span class="glyphicon glyphicon-chevron-down"></span>
            </div>
            <div class="answer">
                <p>Musculation !,Statum incidentia suspicionum inminuta fictis a dolere enim velut cuius pendere
                    suspicionum simulantium enim incidentia inminuta statum cuius iracundae et proximorum enim inminuta
                    et pendere periclitetur cuius suspicionum eius terrarum.
                </p>
            </div>
        </li>
        <li>
            <div class="question">
                <h2>Tu es encore Ã  la recherche d'une copine ?</h2>
                <span class="glyphicon glyphicon-chevron-down"></span>
            </div>
            <div class="answer">
                <p>Sobrios et obscuros mercede et inutiles et inutiles ut vitant inutiles venditare et ignobiles et et
                    et et vitant haec et inserunt quoque quoque et sobrios eo eo nomenclatores et.
                </p>
            </div>
        </li>
    </ul>
</div>
<script>
    /* TODO:  Declarer les constantes*/
    const accordion = document.querySelector(".accordion");
    const items = accordion.querySelectorAll("li");
    const questions = accordion.querySelectorAll(".question");

    /* TODO:  Procedures & Fonctions */



    /* Method: qui permet de ouvrir ou fermer l'accordian  */
    function toggleAccordion() {
        const thisItem = this.parentNode;

        items.forEach(item => {
            if(thisItem == item)
        {
            thisItem.classList.toggle('open');
            return;
        }
        item.classList.remove('open');

    })
        ;


        //console.log(this.parentNode);
    }

    questions.forEach(question => question.addEventListener('click', toggleAccordion)
    )
    ;


    /* TODO: Eventlistener  */
    //accordion.addEventListener();

</script>
</body>
</html>